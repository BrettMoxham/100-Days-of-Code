---
title: "07 08 2020 - HR Leaders"
author: "Brett Moxham"
date: "08/07/2020"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Libraries
```{r}
library(tidyverse)
library(Lahman)
```


## Creating our data frame.

The data from Sean Lahman is excellent. But for our requirments, it will require some fine tuning. The first time i attempted this I made a rookie mistake, but not verifying the data was correct for what i needed. 

```{r}
years <- Batting %>% 
  select(yearID) %>% 
  distinct()

playerInfo %>% 
  select(playerID, nameFirst, nameLast)

players <-  Batting %>% 
  select(playerID) %>% 
  distinct() %>% 
  left_join(
    People %>% 
      select(playerID, nameFirst, nameLast)
  ) %>% 
  mutate(full_name = paste0(nameFirst, " ", nameLast))


player_year_combi <- merge(players, years) 


hr_full <-as_tibble(Batting %>% 
  select(playerID, yearID, HR) %>% 
  right_join(player_year_combi, by = c("playerID", "yearID"))) %>% 
  mutate(HR = coalesce(HR, as.integer(0)))

```



I followed the race chart example from [here](https://towardsdatascience.com/how-to-do-that-animated-race-bar-chart-57f3a8ff27a8).


Create a rolling rank.

```{r}

```
My first attempt at creating a rank went poorly. I kept wracking my head as to why my plots weren't working. It's because our entries don't track all the way through to 2019. For instance ```r playerID``` ```r abercda01``` only has an entry for the year ```r 1871```. I need to find a way to fill out the ```rplayerID``` and ```r yearID``` all the way through to 2019 and back to 1871.  

## Plot


```






